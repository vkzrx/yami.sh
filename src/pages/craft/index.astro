---
import MainLayout from "~/layouts/main.astro";

type Prototype = {
  name: string;
  date: string;
  video: string;
};

const prototypes: Prototype[] = [
  {
    name: "Typing",
    date: "July 2023",
    video: "/assets/videos/typing-animation.mp4",
  },
  {
    name: "Blurred Icons",
    date: "July 2023",
    video: "/assets/videos/blurred-icons.mp4",
  },
];

// Split prototypes into columns to preserve height
const columns: Prototype[][] = prototypes.reverse().reduce<Prototype[][]>(
  (acc, curr, idx) => {
    acc[idx % 2].push(curr);
    return acc;
  },
  [[], []],
);
---

<MainLayout title="Yami | Craft" withSocials>
  <main class="px-10 pb-10 font-nunito tracking-wider md:mt-10 md:px-32 lg:px-64">
    <div class="grid grid-cols-1 gap-2 md:grid-cols-2">
      {
        columns.map((column) => (
          <div class="flex flex-col space-y-2">
            {column.map((prototype) => (
              <div class="group relative rounded border-[0.5px] border-neutral-600 border-opacity-40 bg-black p-2 hover:border-purple-800">
                <video autoplay loop muted>
                  <source src={prototype.video} type="video/mp4" />
                </video>
                <div class="absolute bottom-5 z-10 flex w-full justify-between pl-4 pr-8">
                  <span class="text-xs text-white text-opacity-90 group-hover:text-purple-500">
                    {prototype.name}
                  </span>
                  <span class="text-xs text-neutral-400 group-hover:text-purple-500">
                    {prototype.date}
                  </span>
                </div>
              </div>
            ))}
          </div>
        ))
      }
    </div>
  </main>
</MainLayout>
