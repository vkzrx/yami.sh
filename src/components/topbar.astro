---
const { pathname } = Astro.url;
---

<script>
  const navbarButton = document.getElementById("mobile-navbar-trigger");
  navbarButton?.addEventListener("click", () => {
    const navbarContainer = document.getElementById("mobile-navbar-container");
    navbarContainer?.classList.toggle("hidden");
    navbarContainer?.classList.toggle("flex");
  });

  const navbarOverlay = document.getElementById("mobile-navbar-overlay");
  navbarOverlay?.addEventListener("click", () => {
    const navbarContainer = document.getElementById("mobile-navbar-container");
    navbarContainer?.classList.add("hidden");
    navbarContainer?.classList.remove("flex");
  });
</script>

<header class="flex h-16 justify-end tracking-wider md:items-center md:justify-normal">
  <nav class="mx-20 hidden w-full items-center justify-center md:flex">
    <ul class="flex w-96 justify-around">
      <li>
        <a
          href="/"
          rel="prefetch"
          class:list={[
            "flex items-center space-x-2 2xl:text-lg bg-gray-900 px-4 py-1.5 border",
            "2xl:text-lg",
            "hover:text-amber-500 hover:border-amber-500",
            { "border-transparent": pathname !== "/" },
            { "text-amber-500 border-amber-500": pathname === "/" },
          ]}
        >
          <span class="h-2 w-2 bg-amber-500"></span>
          <span>Home</span>
        </a>
      </li>
      <li>
        <a
          href="/writings"
          rel="prefetch"
          class:list={[
            "flex items-center space-x-2 2xl:text-lg bg-gray-900 px-4 py-1.5 border",
            "2xl:text-lg",
            "hover:text-indigo-500 hover:border-indigo-500",
            { "border-transparent": !pathname.startsWith("/writings") },
            { "text-indigo-500 border-indigo-500": pathname.startsWith("/writings") },
          ]}
        >
          <span class="h-2 w-2 bg-indigo-500"></span>
          <span>Writings</span>
        </a>
      </li>
      <li>
        <a
          href="/projects"
          rel="prefetch"
          class:list={[
            "flex items-center space-x-2 bg-gray-900 px-4 py-1.5 border",
            "2xl:text-lg",
            "hover:text-green-500 hover:border-green-500",
            { "border-transparent": !pathname.startsWith("/projects") },
            { "text-green-500 border-green-500": pathname.startsWith("/projects") },
          ]}
        >
          <span class="h-2 w-2 bg-green-500"></span>
          <span>Projects</span>
        </a>
      </li>
      <li>
        <a
          href="/crafts"
          rel="prefetch"
          class:list={[
            "flex items-center space-x-2 bg-gray-900 px-4 py-1.5 border",
            "2xl:text-lg",
            "hover:text-purple-500 hover:border-purple-500",
            { "border-transparent": !pathname.startsWith("/crafts") },
            { "text-purple-500 border-purple-500": pathname.startsWith("/crafts") },
          ]}
        >
          <span class="h-2 w-2 bg-purple-500"></span>
          <span>Crafts</span>
        </a>
      </li>
      <li>
        <a
          href="/uses"
          rel="prefetch"
          class:list={[
            "flex items-center space-x-2 bg-gray-900 px-4 py-1.5 border",
            "2xl:text-lg",
            "hover:text-orange-500 hover:border-orange-500",
            { "border-transparent": !pathname.startsWith("/uses") },
            { "text-orange-500 border-orange-500": pathname.startsWith("/uses") },
          ]}
        >
          <span class="h-2 w-2 bg-orange-500"></span>
          <span>Uses</span>
        </a>
      </li>
    </ul>
  </nav>
  <button id="mobile-navbar-trigger" type="button" class="my-auto mr-6 p-1 md:hidden">
    <svg width="24" height="24" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"
      ><path
        d="M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z"
        fill="currentColor"
        fill-rule="evenodd"
        clip-rule="evenodd"></path></svg
    >
  </button>
  <div id="mobile-navbar-container" class="absolute z-50 hidden h-full w-full flex-col">
    <div id="mobile-navbar-overlay" class="w-full grow bg-black opacity-90"></div>
    <nav class="bg-gray-900 py-6">
      <ul class="space-y-2">
        <li>
          <a href="/" class="flex h-16 items-center justify-center space-x-4">
            <span class:list={["text-2xl", { "text-amber-500": pathname === "/" }]}>Home</span>
          </a>
        </li>
        <li>
          <a href="/writings" class="flex h-16 items-center justify-center space-x-4">
            <span class:list={["text-2xl", { "text-indigo-500": pathname.startsWith("/writings") }]}
              >Writings</span
            >
          </a>
        </li>
        <li>
          <a href="/projects" class="flex h-16 items-center justify-center space-x-4">
            <span class:list={["text-2xl", { "text-green-500": pathname.startsWith("/projects") }]}
              >Projects</span
            >
          </a>
        </li>
        <li>
          <a href="/crafts" class="flex h-16 items-center justify-center space-x-4">
            <span class:list={["text-2xl", { "text-purple-500": pathname.startsWith("/crafts") }]}
              >Crafts</span
            >
          </a>
        </li>
        <li>
          <a href="/uses" class="flex h-16 items-center justify-center space-x-4">
            <span class:list={["text-2xl", { "text-orange-500": pathname.startsWith("/uses") }]}
              >Uses</span
            >
          </a>
        </li>
      </ul>
    </nav>
  </div>
</header>
